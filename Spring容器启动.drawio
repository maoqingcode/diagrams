<mxfile host="app.diagrams.net" modified="2021-02-02T04:25:07.558Z" agent="5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.104 Safari/537.36" etag="N48FWRRB_SCbbcoHcsgt" version="14.2.9" type="github">
  <diagram id="LiFO-dqfxDTqywaWIYEp" name="Page-1">
    <mxGraphModel dx="1730" dy="2082" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" background="#F4F1DE" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="6VQLEimUdbVgPZYmoGiA-4" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#E07A5F;fillColor=#F2CC8F;fontColor=#393C56;" edge="1" parent="1" source="6VQLEimUdbVgPZYmoGiA-1" target="6VQLEimUdbVgPZYmoGiA-3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="6VQLEimUdbVgPZYmoGiA-1" value="&lt;font&gt;&lt;font style=&quot;font-size: 16px&quot;&gt;获取BeanFactory&lt;/font&gt;&lt;br&gt;&lt;/font&gt;&lt;p&gt;&lt;font style=&quot;line-height: 10%&quot; size=&quot;1&quot;&gt;ConfigurableListableBeanFactory &lt;/font&gt;&lt;font style=&quot;line-height: 10% ; font-size: 11px&quot;&gt;beanFactory=obtainFreshBeanFactory()&lt;/font&gt;&lt;/p&gt;" style="whiteSpace=wrap;html=1;fillColor=#F2CC8F;strokeColor=#E07A5F;fontColor=#393C56;" vertex="1" parent="1">
          <mxGeometry x="200" y="80" width="440" height="80" as="geometry" />
        </mxCell>
        <mxCell id="6VQLEimUdbVgPZYmoGiA-6" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#E07A5F;fillColor=#F2CC8F;fontColor=#393C56;" edge="1" parent="1" source="6VQLEimUdbVgPZYmoGiA-3" target="6VQLEimUdbVgPZYmoGiA-5">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="6VQLEimUdbVgPZYmoGiA-8" value="" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#E07A5F;fillColor=#F2CC8F;fontColor=#393C56;" edge="1" parent="1" source="6VQLEimUdbVgPZYmoGiA-3" target="6VQLEimUdbVgPZYmoGiA-7">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="6VQLEimUdbVgPZYmoGiA-3" value="&lt;font style=&quot;font-size: 16px&quot;&gt;在获取BeanFactory后一些处理(钩子)&lt;/font&gt;&lt;br&gt;&lt;br&gt;准备在上下文中使用BeanFactory&lt;br&gt;prepareBeanFactory()" style="whiteSpace=wrap;html=1;fillColor=#F2CC8F;strokeColor=#E07A5F;fontColor=#393C56;" vertex="1" parent="1">
          <mxGeometry x="200" y="240" width="440" height="80" as="geometry" />
        </mxCell>
        <mxCell id="6VQLEimUdbVgPZYmoGiA-14" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#E07A5F;fillColor=#F2CC8F;fontColor=#393C56;" edge="1" parent="1" source="6VQLEimUdbVgPZYmoGiA-5" target="6VQLEimUdbVgPZYmoGiA-12">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="6VQLEimUdbVgPZYmoGiA-5" value="&lt;font style=&quot;font-size: 16px&quot;&gt;在处理BeanFactory前一些处理(钩子)&lt;/font&gt;&lt;br&gt;&lt;br&gt;执行beanFactory的后置处理 &lt;br&gt;postProcessBeanFactory()" style="whiteSpace=wrap;html=1;fillColor=#F2CC8F;strokeColor=#E07A5F;fontColor=#393C56;" vertex="1" parent="1">
          <mxGeometry x="200" y="400" width="440" height="80" as="geometry" />
        </mxCell>
        <mxCell id="6VQLEimUdbVgPZYmoGiA-7" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span&gt;&lt;b&gt;Prepare the bean factory for use in this context.&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;span&gt;Configure the factory&#39;s standard context characteristics,&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;span&gt;such as the context&#39;s ClassLoader and post-processors.&lt;/span&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;strokeColor=#9673a6;fillColor=#e1d5e7;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="720" y="239" width="379" height="80" as="geometry" />
        </mxCell>
        <mxCell id="6VQLEimUdbVgPZYmoGiA-10" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#E07A5F;fillColor=#F2CC8F;fontColor=#393C56;" edge="1" parent="1" source="6VQLEimUdbVgPZYmoGiA-9">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="720" y="-40" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="6VQLEimUdbVgPZYmoGiA-9" value="&lt;font&gt;&lt;font style=&quot;font-size: 16px&quot;&gt;准备上下文&lt;br&gt;prepareRefresh()&lt;br&gt;&lt;/font&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;fillColor=#F2CC8F;strokeColor=#E07A5F;fontColor=#393C56;" vertex="1" parent="1">
          <mxGeometry x="202" y="-80" width="438" height="80" as="geometry" />
        </mxCell>
        <mxCell id="6VQLEimUdbVgPZYmoGiA-11" value="&lt;b&gt;Prepare this context for refreshing.&lt;/b&gt;&lt;br&gt;Prepare this context for refreshing, setting its startup date and active flag as well as performing any initialization of property sources.&lt;br&gt;" style="whiteSpace=wrap;html=1;rounded=0;dashed=1;sketch=0;strokeColor=#9673a6;fillColor=#e1d5e7;" vertex="1" parent="1">
          <mxGeometry x="720" y="-80" width="400" height="80" as="geometry" />
        </mxCell>
        <mxCell id="6VQLEimUdbVgPZYmoGiA-16" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#E07A5F;fillColor=#F2CC8F;fontColor=#393C56;" edge="1" parent="1" source="6VQLEimUdbVgPZYmoGiA-12" target="6VQLEimUdbVgPZYmoGiA-15">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="6VQLEimUdbVgPZYmoGiA-12" value="&lt;span style=&quot;font-size: 16px&quot;&gt;实例化并且调用BeanFactoryPostProcessore&lt;/span&gt;&lt;br&gt;&lt;br&gt;beandefinition收集、注册容器基本完成&lt;br&gt;invokeBeanFactoryPostProcessors(beanFactory)" style="whiteSpace=wrap;html=1;fillColor=#F2CC8F;strokeColor=#E07A5F;fontColor=#393C56;" vertex="1" parent="1">
          <mxGeometry x="200" y="560" width="440" height="80" as="geometry" />
        </mxCell>
        <mxCell id="6VQLEimUdbVgPZYmoGiA-20" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#E07A5F;fillColor=#F2CC8F;fontColor=#393C56;" edge="1" parent="1" source="6VQLEimUdbVgPZYmoGiA-15" target="6VQLEimUdbVgPZYmoGiA-19">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="6VQLEimUdbVgPZYmoGiA-15" value="&lt;span style=&quot;font-size: 16px&quot;&gt;开始Bean的实例化&lt;/span&gt;&lt;br&gt;实例化并注册所有的BeanPostProcessor&lt;br&gt;registerBeanPostProcessors(beanFactory)" style="whiteSpace=wrap;html=1;fillColor=#F2CC8F;strokeColor=#E07A5F;fontColor=#393C56;" vertex="1" parent="1">
          <mxGeometry x="200" y="720" width="440" height="80" as="geometry" />
        </mxCell>
        <mxCell id="6VQLEimUdbVgPZYmoGiA-22" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#E07A5F;fillColor=#F2CC8F;fontColor=#393C56;" edge="1" parent="1" source="6VQLEimUdbVgPZYmoGiA-19" target="6VQLEimUdbVgPZYmoGiA-21">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="6VQLEimUdbVgPZYmoGiA-19" value="&lt;span style=&quot;font-size: 16px&quot;&gt;初始化一些国际化相关的组件&lt;/span&gt;&lt;br&gt;&lt;br&gt;initMessageSource()" style="whiteSpace=wrap;html=1;fillColor=#F2CC8F;strokeColor=#E07A5F;fontColor=#393C56;rounded=0;dashed=1;sketch=0;" vertex="1" parent="1">
          <mxGeometry x="200" y="880" width="440" height="80" as="geometry" />
        </mxCell>
        <mxCell id="6VQLEimUdbVgPZYmoGiA-24" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#E07A5F;fillColor=#F2CC8F;fontColor=#393C56;" edge="1" parent="1" source="6VQLEimUdbVgPZYmoGiA-21" target="6VQLEimUdbVgPZYmoGiA-23">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="6VQLEimUdbVgPZYmoGiA-21" value="&lt;span style=&quot;font-size: 16px&quot;&gt;初始化事件多播器&lt;br&gt;&lt;/span&gt;&lt;br&gt;initApplicationEventMulticaster()" style="whiteSpace=wrap;html=1;fillColor=#F2CC8F;strokeColor=#E07A5F;fontColor=#393C56;rounded=0;dashed=1;sketch=0;" vertex="1" parent="1">
          <mxGeometry x="200" y="1040" width="440" height="80" as="geometry" />
        </mxCell>
        <mxCell id="6VQLEimUdbVgPZYmoGiA-26" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#E07A5F;fillColor=#F2CC8F;fontColor=#393C56;" edge="1" parent="1" source="6VQLEimUdbVgPZYmoGiA-23" target="6VQLEimUdbVgPZYmoGiA-25">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="6VQLEimUdbVgPZYmoGiA-23" value="&lt;span style=&quot;font-size: 16px&quot;&gt;为子类创建特殊的bean(钩子方法)&lt;br&gt;&lt;/span&gt;&lt;br&gt;onRefresh()" style="whiteSpace=wrap;html=1;fillColor=#F2CC8F;strokeColor=#E07A5F;fontColor=#393C56;rounded=0;dashed=1;sketch=0;" vertex="1" parent="1">
          <mxGeometry x="200" y="1200" width="440" height="80" as="geometry" />
        </mxCell>
        <mxCell id="6VQLEimUdbVgPZYmoGiA-29" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#E07A5F;fillColor=#F2CC8F;fontColor=#393C56;" edge="1" parent="1" source="6VQLEimUdbVgPZYmoGiA-25" target="6VQLEimUdbVgPZYmoGiA-27">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="6VQLEimUdbVgPZYmoGiA-25" value="&lt;span style=&quot;font-size: 16px&quot;&gt;注册事件监听器&lt;br&gt;&lt;/span&gt;&lt;br&gt;registerListeners()" style="whiteSpace=wrap;html=1;fillColor=#F2CC8F;strokeColor=#E07A5F;fontColor=#393C56;rounded=0;dashed=1;sketch=0;" vertex="1" parent="1">
          <mxGeometry x="200" y="1360" width="440" height="80" as="geometry" />
        </mxCell>
        <mxCell id="6VQLEimUdbVgPZYmoGiA-30" style="edgeStyle=orthogonalEdgeStyle;curved=0;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#E07A5F;fillColor=#F2CC8F;fontColor=#393C56;" edge="1" parent="1" source="6VQLEimUdbVgPZYmoGiA-27" target="6VQLEimUdbVgPZYmoGiA-28">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="6VQLEimUdbVgPZYmoGiA-27" value="&lt;span style=&quot;font-size: 16px&quot;&gt;实例化所有非懒加载的单例bean&lt;br&gt;&lt;/span&gt;&lt;br&gt;finishBeanFactoryInitialization()" style="whiteSpace=wrap;html=1;fillColor=#F2CC8F;strokeColor=#E07A5F;fontColor=#393C56;rounded=0;dashed=1;sketch=0;" vertex="1" parent="1">
          <mxGeometry x="200" y="1520" width="440" height="80" as="geometry" />
        </mxCell>
        <mxCell id="6VQLEimUdbVgPZYmoGiA-28" value="&lt;span style=&quot;font-size: 16px&quot;&gt;初始化结束，清理资源，发送事件&lt;br&gt;&lt;/span&gt;&lt;br&gt;finishRefresh()" style="whiteSpace=wrap;html=1;fillColor=#F2CC8F;strokeColor=#E07A5F;fontColor=#393C56;rounded=0;dashed=1;sketch=0;" vertex="1" parent="1">
          <mxGeometry x="200" y="1680" width="440" height="80" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
